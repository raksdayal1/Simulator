#=======================================================================
# Note: File originally generated by VIDE - 2.00/10Apr03 (g++).
#       Now being explicitly maintained.
#=======================================================================

# Borland specific defines:
BCCROOT = c:\borland\bcc55
# BCC32 DEF file: add after = if needed
BCC32DEF =
# BCC32 RT lib: cw32.lib static
BCC32RTLIB = cw32.lib
# BCC32 Startup: c0x32.obj-console, c0w32.obj-winapi
BCC32STARTUP = c0x32.obj

# Standard defines:
CXX  	=	$(BCCROOT)\bin\BCC32
CXXFLAGS=	-q -O1 -v-\
	-D_WINVER=0x0400\
	-D_WIN32_WINNT=0x0400
LINK  	=	$(BCCROOT)\bin\ILink32
LFLAGS  =	-v- -Tpe -ap -c
OBJDIR	=	.\obj
BINDIR	=	.
LIBDIRS	=	-L$(BCCROOT)\lib;$(BCCROOT)\lib\psdk
INCDIRS	=	-I..\include -I$(BCCROOT)\include

LIBS	=	import32.lib $(BCC32RTLIB)

SRCS	=\
	main.cpp\
	model.cpp\
	..\osk\block.cpp\
	..\osk\sim.cpp\
	..\osk\state.cpp\
	..\osk\state_euler.cpp\
	..\osk\state_mm.cpp\
	..\osk\state_rk2.cpp

EXOBJS	=\
	$(OBJDIR)\main.obj\
	$(OBJDIR)\model.obj\
	$(OBJDIR)\block.obj\
	$(OBJDIR)\sim.obj\
	$(OBJDIR)\state.obj\
	$(OBJDIR)\state_euler.obj\
	$(OBJDIR)\state_mm.obj\
	$(OBJDIR)\state_rk2.obj

ALLOBJS	=	$(EXOBJS)
ALLBIN	=	$(BINDIR)\main.exe
ALLTGT	=	$(BINDIR)\main.exe

# User defines:

#@# Targets follow ---------------------------------

all:	$(ALLTGT)

objs:	$(ALLOBJS)

cleanobjs:
	DEL /F $(ALLOBJS)

BCCJUNK	= *.il* *.csm *.tds *.map

cleanbin:
	DEL /F $(ALLBIN) $(BCCJUNK)

clean:	cleanobjs cleanbin

cleanall:	cleanobjs cleanbin

#@# User Targets follow ---------------------------------


#@# Dependency rules follow -----------------------------

$(ALLTGT): $(EXOBJS)
	$(LINK) $(LFLAGS) $(LIBDIRS) $(EXOBJS) $(BCC32STARTUP), $(ALLTGT), , $(LIBS), $(BCC32DEF)

$(OBJDIR)\main.obj: main.cpp ..\include\block.h ..\include\state.h \
                    ..\include\sim.h ..\include\state_euler.h \
                    ..\include\state_rk2.h ..\include\state_mm.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ main.cpp

$(OBJDIR)\model.obj: model.cpp model.h ..\include\block.h ..\include\state.h \
                     ..\include\sim.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ model.cpp

$(OBJDIR)\block.obj: ..\src\block.cpp ..\include\block.h ..\include\state.h \
                     ..\include\sim.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ ..\src\block.cpp

$(OBJDIR)\sim.obj: ..\src\sim.cpp ..\include\sim.h ..\include\block.h \
                   ..\include\state.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ ..\src\sim.cpp

$(OBJDIR)\state.obj: ..\src\state.cpp ..\include\state.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ ..\src\state.cpp

$(OBJDIR)\state_euler.obj: ..\src\state_euler.cpp ..\include\state_euler.h \
                           ..\include\state.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ ..\src\state_euler.cpp

$(OBJDIR)\state_mm.obj: ..\src\state_mm.cpp ..\include\state_mm.h \
                        ..\include\state.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ ..\src\state_mm.cpp

$(OBJDIR)\state_rk2.obj: ..\src\state_rk2.cpp ..\include\state_rk2.h \
                         ..\include\state.h
	$(CXX) -c $(CXXFLAGS) $(INCDIRS) -o$@ ..\src\state_rk2.cpp
